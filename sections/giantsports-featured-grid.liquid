{% liquid
    assign background_color = section.settings.background_color
    assign heading_level = section.settings.heading_level
    assign heading_color = section.settings.heading_color
    assign heading_text_alignment = section.settings.heading_text_alignment
    assign header_text = section.settings.header_text
    assign content = section.settings.content
    assign content_font_size = section.settings.content_font_size
    assign content_text_color = section.settings.content_text_color
    assign content_text_alignment = section.settings.content_text_alignment
    assign btn_url = section.settings.btn_url
    assign btn_text = section.settings.btn_text
    assign btn_color = section.settings.btn_color
    assign product = section.settings.product 
%}

<style>
    .{{section.id}} {
        padding: 40px;
        background-color: {{background_color}};
    }
      .{{section.id}} .featured_header h1, h2, h3, h4, h5, h6 {
        color: {{heading_color}};
        text-align:{{heading_text_alignment}};
        line-height:1;
        font-family: var(--gothic-font) ! important;
        letter-spacing: 2px ;
        font-weight: bold;
        font-style:normal;
        text-transform: uppercase;
    }
    .{{section.id}} .Feature_content{
        font-family: var(--regular-arialMT-font) ! important;
    }
   .Feature_content {
        display: flex;
        align-items: flex-end; 
        justify-content: space-between;
        gap: 20px; 
        margin-bottom: 40px;
    }

    .Feature_content p {
        font-size: {{content_font_size}}px;
        color: {{content_text_color}};
        text-align: {{content_text_alignment}};
        flex: 1;
        max-width: 60%; 
        margin: 0; 
    }

    .cst_button a {
        text-decoration: none;
    }

    .cst_btn {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
        background-color:{{btn_color}};
        color: #ffffff;
        padding: 15px 30px;
        font-family: var(--gothic-font) !important;
        text-transform: uppercase;
        font-size: 24px;
        border-radius: 5px;
        line-height: 1;
        letter-spacing: 0.5px;
        font-weight: bold;
        width: 400px;
        max-width: 100%;
    }
    .cst_btn .button-svg {
        transition: transform 0.3s ease;
    }

    .cst_btn:hover .button-svg {
        transform: translateX(5px);
    }
    /* Product */
    .{{section.id}} .product-grid{
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
    }

    .{{section.id}} .product-grid-item {
        border: 1px solid #00ab5b;
        padding: 10px;
    }
    .product-info h3{
        text-align: center;
        padding-top: 10px;
        margin: 0;
        font-family: var(--regular-arialMT-font) ! important;
        min-height: 40px;
    }

    .product-image {
      width: 100%; 
      height: 300px;
      display: block;"
    }
    /* product pricing  */
     .pricing {
      margin:20px;
    }
      /* product Button */
    .addtocart-button {
        width: 100%;
        padding: 12px;
        background: #28675c;
        color: #fff;
        border: none;
        cursor: pointer;
        font-size: 14px;
        text-transform: uppercase;
        position: relative;
        overflow: hidden;
        z-index: 1;
        transition: transform 0.3s ease;
    }

    .addtocart-button::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: #00ab5b;
        transform: translate(-50%, -50%);
        transition: width 0.9s ease, height 0.2s ease;
        z-index: -1;
    }

    .addtocart-button:hover::before {
        width: 400%;
        height: 400%;
    }

    .addtocart-button:hover {
        transform: scale(1.05) translateY(-3px);
    }

  @media (max-width: 768px) {
        .Feature_content {
        flex-direction: column;
        align-items: center;
      }
    
      .Feature_content p {
            max-width: 100%;
            margin-bottom: 20px;
        }
    
      .cst_btn {
          width: 280px;
          font-size: 18px;
          padding: 12px 20px;
          letter-spacing: 2px;
      }
      /* .product-grid {
          grid-template-columns: repeat(2, 1fr) !important;
      } */
    
      .{{section.id}} .product-grid {
        display: flex;
        overflow-x: auto;
        overflow-y: hidden;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        gap: 15px;
        padding-bottom: 10px;
    }
    
    .{{section.id}} .product-grid > * {
        flex: 0 0 calc(50% - 10px); /* Show 2 items at a time */
        scroll-snap-align: center;
        min-width: calc(50% - 10px);
    }

     .product-image {
      height: 120px;
      display: block;"
    }
    .product-info h3{
      padding-top: 10px;
      min-height: 50px;
      align-items: center;
    }
   
     .pricing {
      margin:10px;
    }
    }

    @media (max-width: 480px) {
      .product-grid {
        grid-template-columns: 1fr !important;
      }
       .cst_btn {
        font-size: 16px;
        padding: 10px 15px;
    }
    }
</style>
<section class="{{section.id}} custom-page-width">
    <div class="upper-part">
        <div class="featured_header">
           {% if header_text != blank %}
                <{{heading_level}}>
                    {{header_text}}
                </{{heading_level}}>
           {% endif %} 
        </div> 
        
        <div class="Feature_content text">
            {% if content != blank %}
                <p>{{content}}</p>
            {% endif %}
          {% comment %} button {% endcomment %}
        <div class="cst_button">
            <a href="{{btn_url}}" class="cst_btn">
                <span>{{btn_text}}</span>
                <svg class="button-svg" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512">
                  <style>svg{fill:#ffffff}</style><path d="M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"></path>
                </svg>
              </a>
        </div>
      </div> 
    </div>
    
    {% comment %} Grid Products Item {% endcomment %}
<div class="product-grid-section">

  <div class="product-grid">
    {% for block in section.blocks %}
      {% if block.settings.product != blank %}
        <div class="product-grid-item" {{ block.shopify_attributes }}>
          {% assign product = block.settings.product %}
          
          <!-- Product Image -->
          {% if product.featured_image %}
            <a href="{{ product.url }}">
              <img class="product-image"
                src="{{ product.featured_image |  image_url}}" 
                alt="{{ product.featured_image.alt | escape }}"
                width="500" height="300"
                loading="lazy"
              >
            </a>
          {% endif %}

          <!-- Product Info -->
          <div class="product-info">
            <h3 style="font-size: {{ block.settings.product_title_font_size }}px;">
              <a href="{{ product.url }}" style="text-decoration: none; color: inherit;">
                {{ product.title }}
              </a>
            </h3>

            <!-- Custom Title Override (Optional) -->
            {% if block.settings.custom_title != blank %}
              <p style="margin: 5px 0; font-style: italic; color: #666;">
                {{ block.settings.custom_title }}
              </p>
            {% endif %}

            <!-- Price -->
             <div class="pricing">

            
            <div class="product-price" style="margin: 8px 0; font-size: 15px; text-align:center;color:#ffffff; background-color:#0b4f2f; font-weight: bold;">
              {% if product.compare_at_price > product.price %}
                <span style="text-decoration: line-through; color: #be1616; margin-right: 8px; font-weight: bold;">
                  {{ product.compare_at_price | money }}
                </span>
                <span style="color: #ffffff; font-weight: bold;">
                  {{ product.price | money }}
                </span>
              {% else %}
                <span>{{ product.price | money }}</span>
              {% endif %}
            </div>
             </div>
            <!-- Add to Cart Button -->
            {% if block.settings.show_button %}
              <form action="/cart/add" method="post" style="margin-top: 12px;">
                <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
                <button class="addtocart-button"
                  type="submit" 
                  {% unless product.available %}disabled{% endunless %}
                >
                  {% if product.available %}
                    {{ block.settings.button_text | default: 'Add to Cart' }}
                  {% else %}
                    Sold Out
                  {% endif %}
                </button>
              </form>
            {% endif %}

          </div>
        </div>
      {% endif %}
        {% endfor %}
    </div>

    {% if section.blocks.size == 0 %}
        <div style="text-align: center; padding: 40px; color: #999;">
        Add product blocks to display products in this grid
        </div>
    {% endif %}
</div>
    
</section>

{% schema %}
    {
        "name": "Featured Grid Section",
        "disabled_on": {
            "groups": ["header", "footer"]
        },
        "settings": [
              {
                  "type": "header",
                  "content": "Background Color Of the Section"
              },
             {
                "type": "color",
                "id": "background_color",
                "label": "Section background color",
                "default":"#ffffff"
            },
            {
                  "type": "header",
                  "content": "Header Settings"
            },
            {
                "type": "select",
                "id": "heading_level",
                "label": "Heading level",
                "default": "h2",
                "options": 
                [
                    { "value": "h1", "label": "H1" },
                    { "value": "h2", "label": "H2" },
                    { "value": "h3", "label": "H3" },
                    { "value": "h4", "label": "H4" },
                    { "value": "h5", "label": "H5" },
                    { "value": "h6", "label": "H6" }
                ]
            },
            {
                "type": "color",
                "id": "heading_color",
                "label": "Heading color",
                "default":"#00342c"
            },
            {
                "type": "select",
                "id": "heading_text_alignment",
                "label": "Heading Text Alignment",
                "options": [
                    {
                        "value": "left",
                        "label": "Left"
                    },
                    {
                        "value": "center",
                        "label": "Center"
                    },
                    {
                        "value": "right",
                        "label": "Right"
                    }
                ],
                "default": "left"
            },
            {
                "type": "text",
                "id": "header_text",
                "label": "Add Header Text",
                "default":"Featured New Releases"
            },
            {
                  "type": "header",
                  "content": "Description/Content Settings"
            },
            {
                "type": "richtext",
                "id": "content",
                "label": "Add Fist Content",
                "default":"<p>Giant Sports Cards is the online sports card store and brick-and-mortar sports card shop near Atlanta that always offers the hottest new releases at some of the lowest prices so you can stay on top of your collection without breaking the bank. Whether you’re looking for brands like Panini sports cards and Topps sports cards or you’re in the market for a hobby box or case under a couple of hundred bucks, you’re guaranteed to find super savings on the cards you want!</p>"
            },
            {
                "type": "range",
                "id": "content_font_size",
                "min": 12,
                "max": 24,
                "step": 1,
                "unit": "px",
                "label": "Content Font size",
                "default": 16
            },
            {
              "type": "color",
              "id": "content_text_color",
              "label": "Content Text Color",
              "default": "#243d3f"  
            },
            {
                "type": "select",
                "id": "content_text_alignment",
                "label": "Text alignment",
                "options": [
                    {
                        "value": "left",
                        "label": "Left"
                    },
                    {
                        "value": "center",
                        "label": "Center"
                    },
                    {
                        "value": "right",
                        "label": "Right"
                    }
                ],
                "default": "left"
            },
            {
                  "type": "header",
                  "content": "Button Settings"
            },
            {
                "type": "url",
                "id": "btn_url",
                "label": "Add Button Url"
            },
            {
                "type": "text",
                "id": "btn_text",
                "label": "Button Text",
                "default":"View"
            },
            {
                "type": "color",
                "id": "btn_color",
                "label": "Change Button Color",
                "default":"#00342C"

            }
            
        ],
        "blocks": [
            {
                "type": "product_block",
                "name": "Products Block",
                "settings": [
                {
                    "type":"product",
                    "id": "product",
                    "label": "Add product"
                },
                {
                    "type": "range",
                    "id": "product_title_font_size",
                    "min": 12,
                    "max": 24,
                    "step": 1,
                    "unit": "px",
                    "label": "Content Font size",
                    "default": 14
                },
                {
                    "type": "checkbox",
                    "id": "show_button",
                    "label": "Show Add to Cart Button",
                    "default": true
                },
                {
                    "type": "text",
                    "id": "button_text",
                    "label": "Button Text",
                    "default": "Add to Cart"
                }

                ]
            }
        ],
        "max_blocks": 8,
        "presets": [
            {
                "name": "Featured Grid Section",
                "category": "Custom Section"
            }
            
        ]
    }
{% endschema %}